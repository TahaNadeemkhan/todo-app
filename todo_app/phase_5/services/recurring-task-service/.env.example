# Recurring Task Service Environment Variables - Phase 5
# Consumes task completion events and creates next occurrences

# Service Configuration
SERVICE_NAME=recurring-task-service
SERVICE_PORT=8002
LOG_LEVEL=info

# Database Configuration (for event log and recurrence data)
DATABASE_URL=postgresql://user:password@localhost:5432/todo_db

# Dapr Configuration
DAPR_HTTP_PORT=3500
DAPR_GRPC_PORT=50001
DAPR_ENABLED=true
DAPR_APP_ID=recurring-task-service
DAPR_APP_PORT=8002

# Kafka Configuration (via Dapr Pub/Sub)
DAPR_PUBSUB_NAME=kafka-pubsub
KAFKA_TOPIC_TASK_EVENTS=task-events
KAFKA_CONSUMER_GROUP=recurring-task-service

# Backend API Service Invocation (via Dapr)
BACKEND_API_APP_ID=backend-api
BACKEND_API_ENDPOINT=/api/v1/users/{user_id}/tasks

# Recurrence Calculation
RECURRENCE_PATTERNS=daily,weekly,monthly
DEFAULT_RECURRENCE_INTERVAL=1

# Prometheus Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# Retry Configuration
MAX_RETRIES=3
RETRY_BACKOFF_SECONDS=1

# Idempotency
EVENT_LOG_RETENTION_DAYS=30

# Health Check
HEALTH_CHECK_ENABLED=true
