# ============================================================================
# Notification Service Environment Variables - Phase 5
# Consumes reminder events and sends email/push notifications
# ============================================================================

# ============================================================================
# Service Configuration
# ============================================================================
SERVICE_PORT=8002
LOG_LEVEL=INFO

# ============================================================================
# Database Configuration (for logging notification delivery)
# ============================================================================
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/todo_db

# ============================================================================
# Email Configuration - Brevo API (Production)
# Get API key from: https://app.brevo.com/settings/keys/api
# ============================================================================
BREVO_API_KEY=

# ============================================================================
# Email Configuration - SMTP Fallback (Local Development)
# ============================================================================
SMTP_HOST=smtp-relay.brevo.com
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@itasks.app
SMTP_FROM_NAME=iTasks Reminders

# ============================================================================
# Firebase Cloud Messaging (Push Notifications)
# Download service account JSON from:
# Firebase Console > Project Settings > Service Accounts > Generate New Private Key
# ============================================================================
FCM_CREDENTIALS_JSON=
FCM_PROJECT_ID=

# ============================================================================
# Dapr Configuration
# ============================================================================
DAPR_HTTP_PORT=3500
DAPR_GRPC_PORT=50001
DAPR_APP_ID=notification-service
DAPR_PUBSUB_NAME=pubsub-kafka
DAPR_REMINDERS_TOPIC=reminders
DAPR_NOTIFICATIONS_TOPIC=notifications

# ============================================================================
# Retry Policy (Exponential Backoff)
# ============================================================================
MAX_RETRY_ATTEMPTS=3
RETRY_BACKOFF_BASE=2.0
RETRY_BACKOFF_MAX=300
