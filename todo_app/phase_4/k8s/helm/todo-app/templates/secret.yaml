apiVersion: v1
kind: Secret
metadata:
  name: {{ include "todo-app.secretName" . }}
  labels:
    {{- include "todo-app.labels" . | nindent 4 }}
type: Opaque
stringData:
  # CRITICAL: These values MUST be provided via Helm --set flags
  # Example installation command:
  #   helm install todo-app ./todo-app \
  #     --set secrets.databaseUrl="postgresql://user:pass@host:5432/db" \
  #     --set secrets.geminiApiKey="AIzaSy..." \
  #     --set secrets.betterAuthSecret="your-secret-here" \
  #     --set secrets.betterAuthUrl="http://localhost:30080"

  databaseUrl: {{ .Values.secrets.databaseUrl | required "secrets.databaseUrl is required! Use --set secrets.databaseUrl=..." | quote }}
  geminiApiKey: {{ .Values.secrets.geminiApiKey | required "secrets.geminiApiKey is required! Use --set secrets.geminiApiKey=..." | quote }}
  betterAuthSecret: {{ .Values.secrets.betterAuthSecret | required "secrets.betterAuthSecret is required! Use --set secrets.betterAuthSecret=..." | quote }}
  betterAuthUrl: {{ .Values.secrets.betterAuthUrl | required "secrets.betterAuthUrl is required! Use --set secrets.betterAuthUrl=..." | quote }}
